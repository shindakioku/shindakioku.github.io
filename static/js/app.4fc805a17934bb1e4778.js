webpackJsonp([1],{"2yUV":function(t,e){},I3K6:function(t,e){},IxXx:function(t,e){},Mi1j:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={};n.d(a,"projectLongName",function(){return Xt}),n.d(a,"taskLongName",function(){return Yt});var s=n("c/Tr"),r=n.n(s),i=n("fZjL"),o=n.n(i),c=n("7+uW"),u=n("Dd8w"),l=n.n(u),d=n("Xxa5"),v=n.n(d),m=n("exGp"),p=n.n(m),f=n("NYxO"),h=n("CLX7"),_=n.n(h);c.default.use(_.a);var b=new c.default,k=function(t){return b.$notify(t)},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.title,n=void 0===e?"Успех":e,a=t.text;return k({group:"all",type:"success",title:n,text:a})},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.title,n=void 0===e?"Предупреждение":e,a=t.text;return k({group:"all",type:"warn",title:n,text:a})},w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.title,n=void 0===e?"Ошибка":e,a=t.text;return k({group:"all",type:"error",title:n,text:a})},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.title,n=void 0===e?"Информация":e,a=t.text;return k({group:"all",type:"info",title:n,text:a})},y=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 1===e.length?localStorage.getItem(e):e.map(function(t){return localStorage.getItem(t)})},j=y,T=function t(e,n){return localStorage.setItem(e,n),t},P=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.map(function(t){return localStorage.removeItem(t)})},E=n("//Fk"),$=n.n(E),S=n("mtWM"),A=n.n(S),N=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null===e?"https://rubygarage.tk/"+t:"https://rubygarage.tk/"+t+e},O=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null===e?N(t)+"?token="+j("jwt"):N(t)+"?token="+j("jwt")+e},F=[{value:0,name:"Открыто"},{value:1,name:"Закрыто"}],q=function(t,e){return new $.a(function(n,a){e||a("Has no jwt"),new $.a(function(t,e){A.a.get(O("me")).then(function(e){return t(e)}).catch(function(t){return e(t)})}).then(function(e){t.dispatch("SET_USER",e.data.data),n()}).catch(function(t){return a(t)})})},R={name:"App",mounted:function(){var t=this;return p()(v.a.mark(function e(){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(n=j("jwt"))&&q(t.$store,n).catch(function(t){P("jwt"),401!==t.response.status?w({text:"Возникла ошибка, попробуйте позже"}):g({text:"Вы должны авторизоваться"})});case 2:case"end":return e.stop()}},e,t)}))()},computed:l()({},Object(f.c)(["userIsGuest"]),{welcome:function(){return this.userIsGuest?"Авторизуйтесь для совершения действий":"Добро пожаловать, "+this.$store.getters.user.email}}),methods:l()({},Object(f.b)({logout:"LOGOUT"}))},U={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",[n("nav",{staticClass:"navbar navbar-light justify-content-between"},[n("a",{staticClass:"navbar-brand"},[t._v(t._s(t.welcome))]),t._v(" "),n("div",{staticClass:"buttons"},[t.userIsGuest?n("div",[n("router-link",{attrs:{to:"/register"}},[n("button",{staticClass:"btn register",attrs:{type:"button"}},[t._v("Регистрация")])]),t._v(" "),n("router-link",{attrs:{to:"/authorization"}},[n("button",{staticClass:"btn authorization",attrs:{type:"button"}},[t._v("Авторизация")])])],1):n("div",[n("router-link",{attrs:{to:"/faq"}},[n("button",{staticClass:"btn authorization",attrs:{type:"button"}},[t._v("Гайд")])]),t._v(" "),n("button",{staticClass:"btn register",attrs:{type:"button"},on:{click:t.logout}},[t._v("Выход\n                    ")])],1)])]),t._v(" "),n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view",{staticClass:"view"})],1)],1),t._v(" "),n("notifications",{attrs:{group:"all",position:"bottom right"}})],1)},staticRenderFns:[]};var I=n("VU/8")(R,U,!1,function(t){n("I3K6")},null,null).exports,D=n("/ocq"),G=function(t){return{success:!(arguments.length>1&&void 0!==arguments[1])||arguments[1],result:t}},L=function(t){return new $.a(function(e){return A.a.get(O("projects",t)).then(function(t){return e(G(t))}).catch(function(t){return e(G(t,!1))})})},V=function(t){return new $.a(function(e){return A.a.get(O("projects/"+t)).then(function(t){return e(G(t))}).catch(function(t){return e(G(t,!1))})})},B=function(t,e){return new $.a(function(n){return A.a.get(O("projects/"+t+"/tasks",e)).then(function(t){return n(G(t))}).catch(function(t){return n(G(t,!1))})})},K={name:"Spinner",props:{enable:Boolean},methods:{start:function(){this.enable=!0},stop:function(){this.enable=!1}}},z={render:function(){var t=this.$createElement,e=this._self._c||t;return this.enable?e("figure",[e("div",{staticClass:"dot white"}),this._v(" "),e("div",{staticClass:"dot"}),this._v(" "),e("div",{staticClass:"dot"}),this._v(" "),e("div",{staticClass:"dot"}),this._v(" "),e("div",{staticClass:"dot"})]):this._e()},staticRenderFns:[]};var J=n("VU/8")(K,z,!1,function(t){n("2yUV")},null,null).exports,M=function(t,e){return t.filter(function(t){return e(t)})[0]},H={name:"ProjectFilters",data:function(){return{selectedOrder:"position",orderBy:"desc"}},computed:{orders:function(){return[{value:"position",name:"Позиции",callback:function(){return"&order_by_position=1&"}},{value:"name",name:"Названию",callback:function(){return"&order_by_name=1&"}},{value:"tasks",name:"Задачам",callback:function(){return"&order_by_tasks=1&"}},{value:"completed_tasks",name:"Выполненым задачам",callback:function(){return"&order_by_completed_tasks=1&"}},{value:"incompleted_tasks",name:"Не выполненым задачам",callback:function(){return"&order_by_incompleted_tasks=1&"}}]}},methods:{executeOrderBy:function(){var t=this,e=M(this.orders,function(e){return t.selectedOrder===e.value}).callback()+"order_by="+this.orderBy;this.$emit("execute",e)}}},X={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"col-md-12 filter order"},[n("h5",[t._v("Фильтрация")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedOrder,expression:"selectedOrder"}],staticClass:"custom-select",on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedOrder=e.target.multiple?n:n[0]},t.executeOrderBy]}},t._l(t.orders,function(e){return n("option",{domProps:{value:e.value,selected:e.selected,textContent:t._s(e.name)}})}))])])},staticRenderFns:[]};var Y={name:"Projects",components:{Spinner:J,filters:n("VU/8")(H,X,!1,function(t){n("TFPP")},"data-v-76236bc2",null).exports},data:function(){return{skip:0,spinnerEnable:!1,isCreating:!1,search:"",newProject:{name:""},editable:{id:0,name:"",sort:0},removable:{id:0},fadeAnimation:!1,activeFilters:"&order_by_position=1&"}},mounted:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.init();case 2:case"end":return e.stop()}},e,t)}))()},computed:l()({},Object(f.c)(["projects","userIsGuest"]),{myProjects:{get:function(){return this.projects},set:function(t){this.setProjects(t)}}}),methods:l()({},Object(f.b)({addProject:"ADD_PROJECT",setProjects:"SET_PROJECTS",logout:"LOGOUT"}),{init:function(){var t=this;return p()(v.a.mark(function e(){var n,a,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.userIsGuest){e.next=19;break}return t.search="",t.spinnerEnable=!0,t.skip=0,t.activeFilters="&order_by_position=1&",e.next=7,t.loadProjects();case 7:if(n=e.sent,a=n.success,s=n.result,a){e.next=16;break}if(void 0===s.response&&w({text:"Произошла ошибка, попробуйте позже"}),401!==s.response.status){e.next=16;break}return g({text:"Вы должны авторизоваться"}),t.logout(),e.abrupt("return",t.$router.push("/"));case 16:return e.next=18,t.setProjects(s);case 18:t.spinnerEnable=!1;case 19:case"end":return e.stop()}},e,t)}))()},executeFilter:function(t){var e=this;return p()(v.a.mark(function n(){var a,s,r;return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.fadeAnimation=!0,e.skip=0,e.activeFilters=t,n.next=5,e.loadProjects("&search_by="+e.search);case 5:if(a=n.sent,s=a.success,r=a.result,!s){n.next=13;break}return n.next=11,e.setProjects(r);case 11:n.next=14;break;case 13:w({text:"Произошла ошибка, попробуйте позже"});case 14:e.fadeAnimation=!1;case 15:case"end":return n.stop()}},n,e)}))()},searchByName:function(){var t=this;return p()(v.a.mark(function e(){var n,a,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.search.length){e.next=2;break}return e.abrupt("return");case 2:return t.fadeAnimation=!0,t.skip=0,e.next=6,t.loadProjects("&search_by="+t.search);case 6:if(n=e.sent,a=n.success,s=n.result,!a){e.next=14;break}return e.next=12,t.setProjects(s);case 12:e.next=15;break;case 14:w({text:"Произошла ошибка, попробуйте позже"});case 15:t.fadeAnimation=!1;case 16:case"end":return e.stop()}},e,t)}))()},store:function(){var t=this;2>=this.newProject.name.length?g({text:"Минимальное название должно состоять из 3х символов'"}):(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new $.a(function(n){return A.a.post(O("projects",e),t).then(function(t){return n(G(t))}).catch(function(t){return n(G(t,!1))})})}({name:this.newProject.name}).then(function(e){var n=e.success,a=e.result;n?(t.addProject(a.data.data),t.newProject.name="",x({text:"Вы успешно добавили новый проект"})):w({text:"Произошла ошибка, попробуйте позже"})}),this.isCreating=!1)},update:function(){var t,e,n=this;0!==this.editable.name.length?(t=this.editable.id,e={name:this.editable.name,sort:this.editable.sort},new $.a(function(n){return A.a.put(O("projects/"+t),e).then(function(t){return n(G(t))}).catch(function(t){return n(G(t,!1))})})).then(function(t){var e=t.success;t._;e?(n.editable={id:0,name:"",sort:0},n.init(),x({text:"Вы успешно обновили проект"})):w({text:"Произошла ошибка, попробуйте позже"})}):g({text:"Вы забыли ввести название"})},remove:function(){var t,e=this;(t=this.removable.id,new $.a(function(e){return A.a.delete(O("projects/"+t)).then(function(t){return e(G(t))}).catch(function(t){return e(G(t,!1))})})).then(function(t){var n=t.success;t._;n?(e.removable={id:0},x({text:"Вы успешно удалили проект"}),e.init()):w({text:"Произошла ошибка, попробуйте позже"})})},loadProjects:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return p()(v.a.mark(function n(){var a,s,r;return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(null!==e){n.next=6;break}return n.next=3,L(t.activeFilters+"&skip="+t.skip+"&take=8");case 3:n.t0=n.sent,n.next=9;break;case 6:return n.next=8,L(e+"&"+t.activeFilters+"&skip="+t.skip+"&take=8");case 8:n.t0=n.sent;case 9:if(a=n.t0,s=a.success,r=a.result,!s){n.next=14;break}return n.abrupt("return",{success:s,result:r.data.data});case 14:return n.abrupt("return",{success:s,result:r});case 15:case"end":return n.stop()}},n,t)}))()},paginationPrev:function(){var t=this;return p()(v.a.mark(function e(){var n,a,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.skip){e.next=2;break}return e.abrupt("return");case 2:return t.fadeAnimation=!0,t.skip-=8,e.next=6,t.loadProjects("&search_by="+t.search);case 6:n=e.sent,a=n.success,s=n.result,a?0!==s.length?t.setProjects(s):(t.skip+=8,C({text:"Проектов нету :("})):w({text:"Возникла ошибка, попробуйте позже"}),t.fadeAnimation=!1;case 11:case"end":return e.stop()}},e,t)}))()},paginationNext:function(){var t=this;return p()(v.a.mark(function e(){var n,a,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.fadeAnimation=!0,t.skip+=8,e.next=4,t.loadProjects("&search_by="+t.search);case 4:n=e.sent,a=n.success,s=n.result,a?0!==s.length?t.setProjects(s):(t.skip-=8,C({text:"Проектов нету :("})):w({text:"Возникла ошибка, попробуйте позже"}),t.fadeAnimation=!1;case 9:case"end":return e.stop()}},e,t)}))()}})},Z={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("spinner",{attrs:{enable:t.spinnerEnable}}),t._v(" "),t.spinnerEnable?t._e():n("div",{staticClass:"row col-md-12 projects"},[n("div",{staticClass:"row col-md-10 all-projects"},[n("div",{staticClass:"col-md-12 header-projects"},[t.isCreating?n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newProject.name,expression:"newProject.name"}],staticClass:"col-md-12 input-new_project-name",attrs:{type:"text",placeholder:"Название..."},domProps:{value:t.newProject.name},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.store(e):null},input:function(e){e.target.composing||t.$set(t.newProject,"name",e.target.value)}}})]):n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"col-md-10 search-input",attrs:{type:"text",placeholder:"Поиск..."},domProps:{value:t.search},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.searchByName(e):null},dblclick:t.init,input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),n("button",{staticClass:"btn add-project",on:{click:function(e){t.isCreating=!0}}},[t._v("\n                        Добавить\n                    ")])])]),t._v(" "),n("div",{staticClass:"col-md-12 pagination"},[8<=t.skip?n("div",{staticClass:"left-arrow",on:{click:t.paginationPrev}},[n("span",[t._v("<")])]):t._e(),t._v(" "),0!==t.projects.length?n("div",{staticClass:"right-arrow",on:{click:t.paginationNext}},[n("span",[t._v(">")])]):t._e()]),t._v(" "),n("div",{staticClass:"row col-md-11 list-projects"},[n("transition",{attrs:{name:"bounce"}},[t.fadeAnimation?t._e():n("div",{staticClass:"row col-md-12"},t._l(t.projects,function(e){return n("div",{key:e.id,staticClass:"col-sm-3 project"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[t.editable.id!==e.id&&e.id!==t.removable.id?n("div",[n("h5",{staticClass:"card-title",attrs:{title:e.name},on:{dblclick:function(n){t.editable=e}}},[t._v("\n                                            "+t._s(t._f("projectLongName")(e.name))+"\n                                        ")]),t._v(" "),n("div",{ref:"removeEvent",refInFor:!0,on:{dblclick:function(n){t.removable=e}}},[n("p",{staticClass:"card-text"},[t._v("Количество задач "+t._s(e.tasks_count))]),t._v(" "),n("p",{staticClass:"card-text"},[t._v("Выполненые задач "+t._s(e.tasks_completed))]),t._v(" "),n("p",{staticClass:"card-text"},[t._v("\n                                                Осталось задач "+t._s(e.tasks_count-e.tasks_completed)+"\n                                            ")])])]):t._e(),t._v(" "),n("transition",{attrs:{name:"bounce"}},[t.editable.id===e.id?n("div",{staticClass:"editable-project"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.editable.name,expression:"editable.name"}],attrs:{type:"text",title:"Название"},domProps:{value:t.editable.name},on:{input:function(e){e.target.composing||t.$set(t.editable,"name",e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.editable.sort,expression:"editable.sort"}],attrs:{type:"text",title:"Позиция"},domProps:{value:t.editable.sort},on:{input:function(e){e.target.composing||t.$set(t.editable,"sort",e.target.value)}}}),t._v(" "),n("div",{staticClass:"row col-md-12"},[n("button",{staticClass:"col-md-8 btn",on:{click:t.update}},[t._v("\n                                                    Обновить\n                                                ")]),t._v(" "),n("div",{staticClass:"col-md-1 back",on:{click:function(e){t.editable={}}}},[n("span",[t._v("x")])])])]):t._e()]),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.removable.id===e.id?n("div",{on:{dblclick:function(e){t.removable={id:0}}}},[n("button",{staticClass:"btn remove-project",on:{click:t.remove}},[t._v("\n                                                Удалить?\n                                            ")])]):t._e()])],1)]),t._v(" "),n("div",{staticClass:"open-project",on:{click:function(n){t.$router.push({name:"project-page",params:{id:e.id}})}}})])}))])],1)]),t._v(" "),n("filters",{staticClass:"col-md-2 filters",on:{execute:t.executeFilter}})],1)],1)},staticRenderFns:[]};var W=n("VU/8")(Y,Z,!1,function(t){n("qiH/")},"data-v-3e67c780",null).exports,Q=function(t){return new $.a(function(e){return A.a.get(O("tasks",t)).then(function(t){return e(G(t))}).catch(function(t){return e(G(t,!1))})})},tt={name:"TaskFilters",data:function(){return{selectedOrder:"position",orderBy:"desc",duplicated:{name:"",status:0}}},computed:{orders:function(){return[{value:"position",name:"Позиции",callback:function(){return"&order_by_position=1&"}},{value:"opened",name:"Открытым задачам",callback:function(){return"&order_by_opened=1&"}},{value:"closed",name:"Закрытым задачам",callback:function(){return"&order_by_closed=1&"}}]},statuses:function(){return F}},methods:{execute:function(){var t=""+this.filterOrderBy()+this.duplicatedSearch();this.$emit("execute",t)},filterOrderBy:function(){var t=this;return M(this.orders,function(e){return t.selectedOrder===e.value}).callback()+"order_by="+this.orderBy},duplicatedSearch:function(){if(0!==this.duplicated.name.length)return"&duplicated=1&duplicated_status="+this.duplicated.status+"&duplicated_name="+this.duplicated.name+"&"}}},et={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"col-md-12 filter order"},[n("h5",[t._v("Фильтрация")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedOrder,expression:"selectedOrder"}],staticClass:"custom-select",on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedOrder=e.target.multiple?n:n[0]},t.execute]}},t._l(t.orders,function(e){return n("option",{domProps:{value:e.value,selected:e.selected,textContent:t._s(e.name)}})}))]),t._v(" "),n("div",{staticClass:"col-md-12 filter duplicated"},[n("h5",[t._v("Повторения")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.duplicated.name,expression:"duplicated.name"}],staticClass:"col-md-12",attrs:{type:"text",placeholder:"Название"},domProps:{value:t.duplicated.name},on:{input:function(e){e.target.composing||t.$set(t.duplicated,"name",e.target.value)}}}),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.duplicated.status,expression:"duplicated.status"}],staticClass:"col-md-12",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.duplicated,"status",e.target.multiple?n:n[0])}}},t._l(t.statuses,function(e){return n("option",{domProps:{value:e.value,textContent:t._s(e.name)}})})),t._v(" "),n("button",{staticClass:"col-md-12 btn",on:{click:t.execute}},[t._v("\n            Ок\n        ")])])])},staticRenderFns:[]};var nt=n("VU/8")(tt,et,!1,function(t){n("NS7V")},"data-v-7826b6ce",null).exports,at={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"modal"}},[e("div",{staticClass:"modal-mask"},[e("div",{staticClass:"modal-wrapper"},[e("div",{staticClass:"modal-container"},[e("div",{staticClass:"modal-header"},[this._t("header")],2),this._v(" "),e("div",{staticClass:"modal-body"},[this._t("body")],2),this._v(" "),e("div",{staticClass:"modal-footer"},[this._t("footer")],2)])])])])},staticRenderFns:[]};var st=n("VU/8")({name:"Modal"},at,!1,function(t){n("IxXx")},null,null).exports,rt={name:"Tasks",components:{Spinner:J,filters:nt,modal:st},data:function(){return{skip:0,spinnerEnable:!1,isCreating:!1,search:"",newTask:{name:""},editable:{id:0,name:"",sort:0},removable:{id:0},fadeAnimation:!1,activeFilters:"&order_by_position=1&"}},mounted:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.init();case 2:case"end":return e.stop()}},e,t)}))()},computed:l()({},Object(f.c)(["tasks","userIsGuest"]),{myTasks:{get:function(){return this.tasks},set:function(t){this.setTasks(t)}},closed:function(){return 1},opened:function(){return 0}}),methods:l()({},Object(f.b)({addTask:"ADD_TASK",setTasks:"SET_TASKS",logout:"LOGOUT"}),{init:function(){var t=this;return p()(v.a.mark(function e(){var n,a,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.userIsGuest){e.next=19;break}return t.search="",t.spinnerEnable=!0,t.skip=0,t.activeFilters="&order_by_position=1&",e.next=7,t.loadTasks();case 7:if(n=e.sent,a=n.success,s=n.result,a){e.next=16;break}if(void 0===s.response&&w({text:"Произошла ошибка, попробуйте позже"}),401!==s.response.status){e.next=16;break}return g({text:"Вы должны авторизоваться"}),t.logout(),e.abrupt("return",t.$router.push("/"));case 16:return e.next=18,t.setTasks(s);case 18:t.spinnerEnable=!1;case 19:case"end":return e.stop()}},e,t)}))()},executeFilter:function(t){var e=this;return p()(v.a.mark(function n(){var a,s,r;return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.fadeAnimation=!0,e.skip=0,e.activeFilters=t,n.next=5,e.loadTasks("&search_by="+e.search);case 5:if(a=n.sent,s=a.success,r=a.result,!s){n.next=13;break}return n.next=11,e.setTasks(r);case 11:n.next=14;break;case 13:w({text:"Произошла ошибка, попробуйте позже"});case 14:e.fadeAnimation=!1;case 15:case"end":return n.stop()}},n,e)}))()},searchByName:function(){var t=this;return p()(v.a.mark(function e(){var n,a,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.search.length){e.next=2;break}return e.abrupt("return");case 2:return t.fadeAnimation=!0,t.skip=0,e.next=6,t.loadTasks("&search_by="+t.search);case 6:if(n=e.sent,a=n.success,s=n.result,!a){e.next=14;break}return e.next=12,t.setTasks(s);case 12:e.next=15;break;case 14:w({text:"Произошла ошибка, попробуйте позже"});case 15:t.fadeAnimation=!1;case 16:case"end":return e.stop()}},e,t)}))()},store:function(){var t,e=this;2>=this.newTask.name.length?g({text:"Минимальное название должно состоять из 3х символов"}):((t={name:this.newTask.name,status:this.opened},new $.a(function(e){return A.a.post(O("tasks"),t).then(function(t){return e(G(t))}).catch(function(t){return e(G(t,!1))})})).then(function(t){var n=t.success,a=t.result;n?(e.addTask(a.data.data),e.newTask.name="",x({text:"Вы успешно добавили новую задачу"})):w({text:"Произошла ошибка, попробуйте позже"})}),this.isCreating=!1)},update:function(){var t,e,n=this;0!==this.editable.name.length?(t=this.editable.id,e={name:this.editable.name,sort:this.editable.sort,status:this.editable.status,deadline_at:this.editable.deadline_at},new $.a(function(n){return A.a.put(O("tasks/"+t),e).then(function(t){return n(G(t))}).catch(function(t){return n(G(t,!1))})})).then(function(t){var e=t.success;t._;e?(n.editable={id:0,name:"",sort:0},n.init(),x({text:"Вы успешно обновили задачу"})):w({text:"Произошла ошибка, попробуйте позже"})}):g({text:"Вы забыли ввести название"})},remove:function(){var t,e=this;(t=this.removable.id,new $.a(function(e){return A.a.delete(O("tasks/"+t)).then(function(t){return e(G(t))}).catch(function(t){return e(G(t,!1))})})).then(function(t){var n=t.success;t._;n?(e.removable={id:0},x({text:"Вы успешно удалили задачу"}),e.init()):w({text:"Произошла ошибка, попробуйте позже"})})},loadTasks:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return p()(v.a.mark(function n(){var a,s,r;return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(null!==e){n.next=6;break}return n.next=3,Q(t.activeFilters+"&skip="+t.skip+"&take=12");case 3:n.t0=n.sent,n.next=9;break;case 6:return n.next=8,Q(e+"&"+t.activeFilters+"&skip="+t.skip+"&take=12");case 8:n.t0=n.sent;case 9:if(a=n.t0,s=a.success,r=a.result,!s){n.next=14;break}return n.abrupt("return",{success:s,result:r.data.data});case 14:return n.abrupt("return",{success:s,result:r});case 15:case"end":return n.stop()}},n,t)}))()},paginationPrev:function(){var t=this;return p()(v.a.mark(function e(){var n,a,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.skip){e.next=2;break}return e.abrupt("return");case 2:return t.fadeAnimation=!0,t.skip-=12,e.next=6,t.loadTasks("&search_by="+t.search);case 6:n=e.sent,a=n.success,s=n.result,a?0!==s.length?t.setTasks(s):(t.skip+=12,C({text:"Задач нету :("})):w({text:"Возникла ошибка, попробуйте позже"}),t.fadeAnimation=!1;case 11:case"end":return e.stop()}},e,t)}))()},paginationNext:function(){var t=this;return p()(v.a.mark(function e(){var n,a,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.fadeAnimation=!0,t.skip+=12,e.next=4,t.loadTasks("&search_by="+t.search);case 4:n=e.sent,a=n.success,s=n.result,a?0!==s.length?t.setTasks(s):(t.skip-=12,C({text:"Задач нету :("})):w({text:"Возникла ошибка, попробуйте позже"}),t.fadeAnimation=!1;case 9:case"end":return e.stop()}},e,t)}))()}})},it={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("spinner",{attrs:{enable:t.spinnerEnable}}),t._v(" "),t.spinnerEnable?t._e():n("div",{staticClass:"row col-md-12 tasks"},[n("div",{staticClass:"row col-md-10 all-tasks"},[n("div",{staticClass:"col-md-12 header-tasks"},[t.isCreating?n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newTask.name,expression:"newTask.name"}],staticClass:"col-md-12 input-new_task-name",attrs:{type:"text",placeholder:"Название..."},domProps:{value:t.newTask.name},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.store(e):null},input:function(e){e.target.composing||t.$set(t.newTask,"name",e.target.value)}}})]):n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"col-md-10 search-input",attrs:{type:"text",placeholder:"Поиск..."},domProps:{value:t.search},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.searchByName(e):null},dblclick:t.init,input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),n("button",{staticClass:"btn add-task",on:{click:function(e){t.isCreating=!0}}},[t._v("\n                        Добавить\n                    ")])])]),t._v(" "),n("div",{staticClass:"col-md-12 pagination"},[8<=t.skip?n("div",{staticClass:"left-arrow",on:{click:t.paginationPrev}},[n("span",[t._v("<")])]):t._e(),t._v(" "),0!==t.tasks.length?n("div",{staticClass:"right-arrow",on:{click:t.paginationNext}},[n("span",[t._v(">")])]):t._e()]),t._v(" "),n("div",{staticClass:"row col-md-11 list-tasks"},[n("transition",{attrs:{name:"bounce"}},[t.fadeAnimation?t._e():n("div",{staticClass:"row col-md-12"},t._l(t.tasks,function(e){return n("div",{key:e.id,staticClass:"col-sm-3 task"},[n("div",{class:["card",t.opened===parseInt(e.status)?"task-opened":"task-closed"]},[n("div",{staticClass:"card-body"},[e.id!==t.removable.id?n("div",[n("h5",{staticClass:"card-title",attrs:{title:e.name},on:{dblclick:function(n){Object.assign(t.editable,e)}}},[t._v("\n                                            "+t._s(t._f("taskLongName")(e.name))+"\n                                        ")]),t._v(" "),n("div",{ref:"removeEvent",refInFor:!0,on:{dblclick:function(n){t.removable=e}}},[n("p",{staticClass:"card-text"},[t._v("Дедлайн: "+t._s(e.deadline_at||"не задан"))])])]):t._e(),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.removable.id===e.id?n("div",{on:{dblclick:function(e){t.removable={id:0}}}},[n("button",{staticClass:"btn remove-task",on:{click:t.remove}},[t._v("\n                                                Удалить?\n                                            ")])]):t._e()])],1)])])}))])],1)]),t._v(" "),n("filters",{staticClass:"col-md-2 filters",on:{execute:t.executeFilter}})],1),t._v(" "),0!==t.editable.id?n("modal",[n("template",{slot:"header"},[t._v("Обновление")]),t._v(" "),n("template",{slot:"body"},[n("div",{staticClass:"editable-tasks_modal_body"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.editable.name,expression:"editable.name"}],staticClass:"col-md-12",attrs:{type:"text",title:"Название"},domProps:{value:t.editable.name},on:{input:function(e){e.target.composing||t.$set(t.editable,"name",e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.editable.sort,expression:"editable.sort"}],staticClass:"col-md-12",attrs:{type:"text",title:"Порядок"},domProps:{value:t.editable.sort},on:{input:function(e){e.target.composing||t.$set(t.editable,"sort",e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.editable.deadline_at,expression:"editable.deadline_at"}],staticClass:"col-md-12",attrs:{type:"date",title:"Дедлайн"},domProps:{value:t.editable.deadline_at},on:{input:function(e){e.target.composing||t.$set(t.editable,"deadline_at",e.target.value)}}}),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.editable.status,expression:"editable.status"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.editable,"status",e.target.multiple?n:n[0])}}},[n("option",{domProps:{value:t.opened}},[t._v("Открыта")]),t._v(" "),n("option",{domProps:{value:t.closed}},[t._v("Закрыта")])])])]),t._v(" "),n("template",{slot:"footer"},[n("button",{staticClass:"modal-default-button btn",on:{click:t.update}},[t._v("\n                Обновить\n            ")]),t._v(" "),n("button",{staticClass:"modal-default-button btn",on:{click:function(e){t.editable={id:0}}}},[t._v("\n                Закрыть\n            ")])])],2):t._e()],1)},staticRenderFns:[]};var ot={name:"IndexPage",components:{Projects:W,Tasks:n("VU/8")(rt,it,!1,function(t){n("gkYo")},"data-v-6dde96da",null).exports},computed:l()({},Object(f.c)(["userIsGuest"]))},ct={render:function(){var t=this.$createElement,e=this._self._c||t;return this.userIsGuest?this._e():e("div",[e("projects"),this._v(" "),e("tasks")],1)},staticRenderFns:[]};var ut=n("VU/8")(ot,ct,!1,function(t){n("b9Xj")},"data-v-11b97b5a",null).exports,lt=n("woOf"),dt=n.n(lt),vt=n("ESwS"),mt=n.n(vt),pt=n("DAYN"),ft=n.n(pt),ht=n("+cKO"),_t=ht.required,bt=ht.minLength,kt=ht.between,xt=function(t){return document.title=t},gt=function(){return document.title},wt=F[0].value,Ct=F[1].value,yt={name:"",status:wt,sort:0,deadline_at:null},jt={name:"ProjectPage",mixins:[vt.validationMixin],components:{Spinner:J,draggable:ft.a,Modal:st,filters:nt},validations:{newTask:{name:{required:_t,minLength:bt(3)},status:{required:_t,between:kt(wt,Ct)},sort:{required:_t}},editable:{name:{required:_t,minLength:bt(3)},status:{required:_t,between:kt(wt,Ct)},sort:{required:_t}}},data:function(){return{showFilters:!1,creating:!1,search:"",spinnerEnable:!0,oldTasks:[],tasks:[],project:{},removable:{id:0},editable:{},newTask:dt()({},yt),activeFilters:"&order_by_position=1&"}},watch:{tasks:function(t,e){this.oldTasks=e}},computed:{statuses:function(){return F},opened:function(){return wt},closed:function(){return Ct},taskNameForEdit:function(){var t=this;return M(this.tasks,function(e){return e.id===t.editable.id}).name}},mounted:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.init();case 2:case"end":return e.stop()}},e,t)}))()},methods:{init:function(){var t=this;return p()(v.a.mark(function e(){var n,a,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.search="",t.editable={},t.removable={id:0},t.newTask=yt,e.next=6,V(t.$route.params.id).then(function(e){e._;var n=e.result;return t.project=n.data.data}).catch(function(e){e._;var n=e.result;if(g({text:"Произошла ошибка, попробуйте позже"}),void 0===n.response)return t.$router.push("/project/"+t.project.id)});case 6:return e.next=8,t.loadTasks();case 8:n=e.sent,a=n.success,s=n.result,a&&(t.tasks=s.data.data,xt(t.project.name.slice(0,5)+". Задач "+t.tasks.length)),t.spinnerEnable=!1;case 13:case"end":return e.stop()}},e,t)}))()},executeFilter:function(t){var e=this;return p()(v.a.mark(function n(){var a,s,r;return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.spinnerEnable=!0,e.activeFilters=t,n.next=4,e.loadTasks("&search_by="+e.search);case 4:a=n.sent,s=a.success,r=a.result,s?e.tasks=r.data.data:w({text:"Произошла ошибка, попробуйте позже"}),e.spinnerEnable=!1,e.showFilters=!1;case 10:case"end":return n.stop()}},n,e)}))()},searchByName:function(){var t=this;return p()(v.a.mark(function e(){var n,a,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.search.length){e.next=2;break}return e.abrupt("return");case 2:return t.spinnerEnable=!0,e.next=5,t.loadTasks("&search_by="+t.search);case 5:n=e.sent,a=n.success,s=n.result,a?t.tasks=s.data.data:w({text:"Произошла ошибка, попробуйте позже"}),t.spinnerEnable=!1;case 10:case"end":return e.stop()}},e,t)}))()},store:function(){var t,e,n=this;(this.$v.$touch(),this.$v.newTask.$invalid)?g({text:"Упс, Вы не прошли валидацию :)"}):(t=this.project.id,e=this.newTask,new $.a(function(n){return A.a.post(O("projects/"+t+"/tasks"),e).then(function(t){return n(G(t))}).catch(function(t){return n(G(t,!1))})})).then(function(t){var e=t.success,a=t.result;e?(n.newTask=dt()({},yt),n.tasks.push(a.data.data),n.creating=!1,xt(gt().replace(/Задач \d/,"Задач "+n.tasks.length)),x({text:"Вы успешно добавили новую задачу"})):g({text:"Упс, произошла ошибка"})})},update:function(){var t,e,n,a=this;(this.$v.$touch(),this.$v.editable.$invalid)?g({text:"Упс, Вы не прошли валидацию :)"}):(t=this.project.id,e=this.editable.id,n=this.editable,new $.a(function(a){return A.a.put(O("projects/"+t+"/tasks/"+e),n).then(function(t){return a(G(t))}).catch(function(t){return a(G(t,!1))})})).then(function(t){var e=t.success;t._;e?(a.init(),x({text:"Вы успешно обновили задачу"})):g({text:"Упс, произошла ошибка"})})},remove:function(){var t,e,n=this;0!==this.removable.id&&(t=this.project.id,e=this.removable.id,new $.a(function(n){return A.a.delete(O("projects/"+t+"/tasks/"+e)).then(function(t){return n(G(t))}).catch(function(t){return n(G(t,!1))})})).then(function(t){var e,a,s=t.success;t._;s?(x({text:"Вы успешно удалили задачу"}),n.tasks=(e=n.tasks,a=function(t){return t.id===n.removable.id},e.filter(function(t){return!a(t)})),n.removable={id:0},xt(gt().replace(/Задач \d/,"Задач "+n.tasks.length))):g({text:"Произошла ошибка, попробуйте позже"})})},updateSort:function(){var t,e,n=this;(t=this.project.id,e=this.tasks.map(function(t,e){return{id:t.id,position:e}}),new $.a(function(n){return A.a.put(O("sort/projects/"+t+"/tasks"),{data:e}).then(function(t){return n(G(t))}).catch(function(t){return n(G(t,!1))})})).then(function(t){var e=t.success;t._;if(!e)return g({text:"Мы не смогли обновить позиции"}),void(n.tasks=n.oldTasks);x({text:"Мы успешно обновили позиции"})})},loadTasks:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return p()(v.a.mark(function n(){return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t.project.id){n.next=2;break}return n.abrupt("return");case 2:if(null!==e){n.next=8;break}return n.next=5,B(t.project.id,t.activeFilters);case 5:n.t0=n.sent,n.next=11;break;case 8:return n.next=10,B(t.project.id,e+"&"+t.activeFilters);case 10:n.t0=n.sent;case 11:return n.abrupt("return",n.t0);case 12:case"end":return n.stop()}},n,t)}))()}}},Tt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("spinner",{attrs:{enable:t.spinnerEnable}}),t._v(" "),n("div",{staticClass:"row col-md-11 header"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"search col-md-9",attrs:{type:"text",placeholder:"Поиск"},domProps:{value:t.search},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.searchByName(e):null},dblclick:t.init,input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),n("div",{staticClass:"buttons col-md-3"},[n("button",{staticClass:"btn col-md-5 create-task",on:{click:function(e){t.creating=!0}}},[t._v("\n                Создать\n            ")]),t._v(" "),n("button",{staticClass:"btn col-md-5 filters",on:{click:function(e){t.showFilters=!t.showFilters}}},[t._v("\n                Фильтры\n            ")])])]),t._v(" "),n("transition",{attrs:{name:"bounce"}},[t.showFilters?t._e():n("draggable",{staticClass:"row col-md-12 tasks",on:{end:t.updateSort},model:{value:t.tasks,callback:function(e){t.tasks=e},expression:"tasks"}},t._l(t.tasks,function(e){return n("div",{class:["card task",t.closed===e.status?"closed":"opened"],staticStyle:{width:"18rem"}},[e.id!==t.removable.id?n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"card-body"},[n("h5",{staticClass:"card-title"},[n("span",{attrs:{title:e.name}},[t._v(t._s(t._f("taskLongName")(e.name)))]),t._v(" "),n("span",{staticClass:"status"},[t._v("("+t._s(t.closed===e.status?"Закрыта":"Открыта")+")")])]),t._v(" "),n("p",{staticClass:"card-text"},[t._v("\n                            Дедлайн: "+t._s(null===e.deadline_at?"не задан":e.deadline_at)+"\n                        ")]),t._v(" "),n("button",{staticClass:"btn",on:{click:function(n){t.editable=Object.assign({},e)}}},[t._v("\n                            Редактировать\n                        ")]),t._v(" "),n("button",{staticClass:"btn",on:{click:function(n){t.removable.id=e.id}}},[t._v("Удалить\n                        ")])])]):n("transition",{attrs:{name:"bounce"}},[n("button",{staticClass:"col-md-6 btn remove-project",on:{click:t.remove}},[t._v("\n                        Удалить?\n                    ")])])],1)}))],1),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.showFilters?n("filters",{staticClass:"col-md-2 filters",on:{execute:t.executeFilter}}):t._e()],1),t._v(" "),t.creating?n("modal",{staticClass:"create-task_modal"},[n("template",{slot:"header"},[t._v("\n            Добавление задачи\n        ")]),t._v(" "),n("template",{slot:"body"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newTask.name,expression:"newTask.name"}],staticClass:"col-md-12",attrs:{type:"text",placeholder:"Название",title:"Название"},domProps:{value:t.newTask.name},on:{input:function(e){e.target.composing||t.$set(t.newTask,"name",e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newTask.sort,expression:"newTask.sort"}],staticClass:"col-md-12",attrs:{type:"text",placeholder:"Позиция",title:"Позиция"},domProps:{value:t.newTask.sort},on:{input:function(e){e.target.composing||t.$set(t.newTask,"sort",e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newTask.deadline_at,expression:"newTask.deadline_at"}],staticClass:"col-md-12",attrs:{type:"date",placeholder:"Дедлайн",title:"Дедлайн"},domProps:{value:t.newTask.deadline_at},on:{input:function(e){e.target.composing||t.$set(t.newTask,"deadline_at",e.target.value)}}}),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.newTask.status,expression:"newTask.status"}],staticClass:"col-md-12",attrs:{title:"Статус"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.newTask,"status",e.target.multiple?n:n[0])}}},t._l(t.statuses,function(e){return n("option",{domProps:{value:e.value,textContent:t._s(e.name)}})}))]),t._v(" "),n("template",{slot:"footer"},[n("button",{staticClass:"modal-default-button btn",on:{click:t.store}},[t._v("\n                Создать\n            ")]),t._v(" "),n("button",{staticClass:"modal-default-button btn",on:{click:function(e){t.creating=!1}}},[t._v("\n                Закрыть\n            ")])])],2):t._e(),t._v(" "),void 0!==t.editable.id&&0!==t.editable.id?n("modal",{staticClass:"edit-task_modal create-task_modal"},[n("template",{slot:"header"},[t._v("\n            Редактирование "+t._s(t._f("taskLongName")(t.taskNameForEdit))+"\n        ")]),t._v(" "),n("template",{slot:"body"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.editable.name,expression:"editable.name"}],staticClass:"col-md-12",attrs:{type:"text",placeholder:"Название",title:"Название"},domProps:{value:t.editable.name},on:{input:function(e){e.target.composing||t.$set(t.editable,"name",e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.editable.sort,expression:"editable.sort"}],staticClass:"col-md-12",attrs:{type:"text",placeholder:"Позиция",title:"Позиция"},domProps:{value:t.editable.sort},on:{input:function(e){e.target.composing||t.$set(t.editable,"sort",e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.editable.deadline_at,expression:"editable.deadline_at"}],staticClass:"col-md-12",attrs:{type:"date",placeholder:"Дедлайн",title:"Дедлайн"},domProps:{value:t.editable.deadline_at},on:{input:function(e){e.target.composing||t.$set(t.editable,"deadline_at",e.target.value)}}}),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.editable.status,expression:"editable.status"}],staticClass:"col-md-12",attrs:{title:"Статус"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.editable,"status",e.target.multiple?n:n[0])}}},t._l(t.statuses,function(e){return n("option",{domProps:{value:e.value,textContent:t._s(e.name)}})}))]),t._v(" "),n("template",{slot:"footer"},[n("button",{staticClass:"modal-default-button btn",on:{click:t.update}},[t._v("\n                Обновить\n            ")]),t._v(" "),n("button",{staticClass:"modal-default-button btn",on:{click:function(e){t.editable={}}}},[t._v("\n                Закрыть\n            ")])])],2):t._e()],1)},staticRenderFns:[]};var Pt=n("VU/8")(jt,Tt,!1,function(t){n("qZHo")},"data-v-117c4826",null).exports,Et=n("+cKO"),$t=Et.required,St=Et.email,At={name:"Registration",mixins:[vt.validationMixin],validations:{email:{required:$t,email:St},password:{required:$t}},data:function(){return{email:"",password:""}},methods:{register:function(){var t,e=this;if(this.$v.$touch(),this.$v.$invalid)return this.$v.email.required||g({text:"Email обязателен к заполнению"}),this.$v.email.email||g({text:"Email не корректен"}),void(this.$v.password.required||g({text:"Пароль обязателен к заполнению"}));(t={email:this.email,password:this.password},new $.a(function(e,n){A.a.post(N("register"),t).then(function(t){return e(t)}).catch(function(t){return n(t)})})).then(function(t){x({text:"Вы успешно зарегистрировались"}),e.$router.push("/")}).catch(function(t){for(var e in t.response.data)g({text:t.response.data[e].join(", ")})})}}},Nt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"form-signin"},[n("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("Регистрация")]),t._v(" "),n("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("Ваш email")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"inputEmail",placeholder:"Ваш email",name:"email",autofocus:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),n("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("Ваш пароль")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Ваш пароль",name:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),n("button",{staticClass:"btn btn-lg btn-primary btn-block",on:{click:t.register}},[t._v("\n            Вперед\n        ")])])])},staticRenderFns:[]};var Ot=n("VU/8")(At,Nt,!1,function(t){n("Mi1j")},"data-v-16734fea",null).exports,Ft=n("+cKO"),qt=Ft.required,Rt=Ft.email,Ut={name:"Authorization",mixins:[vt.validationMixin],validations:{email:{required:qt,email:Rt},password:{required:qt}},data:function(){return{email:"",password:""}},methods:{authorization:function(){var t,e=this;if(this.$v.$touch(),this.$v.$invalid)return this.$v.email.required||g({text:"Email обязателен к заполнению"}),this.$v.email.email||g({text:"Email не корректен"}),void(this.$v.password.required||g({text:"Пароль обязателен к заполнению"}));(t={email:this.email,password:this.password},new $.a(function(e,n){A.a.post(N("authorization"),t).then(function(t){return e(t)}).catch(function(t){return n(t)})})).then(function(t){var n=t.data.data;T("jwt",n),q(e.$store,n).then(function(t){x({text:"Вы успешно авторизовались"}),e.$router.push("/")})}).catch(function(t){void 0!==t.response?500!==t.response.status?g({text:void 0===t.response?"Попробуйте позже":t.response.data.data}):w({text:"Упс...Серверу плохо."}):w({text:"Все плохо, очень плохо"})})}}},It={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"form-signin"},[n("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("Авторизация")]),t._v(" "),n("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("Ваш email")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"inputEmail",placeholder:"Ваш email",name:"email",autofocus:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),n("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("Ваш пароль")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Ваш пароль",name:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),n("button",{staticClass:"btn btn-lg btn-primary btn-block",on:{click:t.authorization}},[t._v("\n            Вперед\n        ")])])])},staticRenderFns:[]};var Dt=n("VU/8")(Ut,It,!1,function(t){n("b8+y")},"data-v-f93ce8be",null).exports,Gt={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ul",{staticStyle:{margin:"100px 0",background:"#fff",height:"200px","border-radius":"5px"}},[n("li",{staticStyle:{"line-height":"40px"}},[t._v("Сортировка на главной странице работает только через указание позиции с помощью числа, увы. "),n("br"),t._v(" На странице задач для проекта можно воспользоваться drag & drop")]),t._v(" "),n("li",{staticStyle:{"line-height":"40px"}},[t._v("Для редактирования на главных страницах нужно нажать 2 раза по названию проекта/задача")]),t._v(" "),n("li",{staticStyle:{"line-height":"40px"}},[t._v("Для удаления на главных страницах нужно нажать 2 раза в любую область ниже названия проекта/задачи")]),t._v(" "),n("li",{staticStyle:{"line-height":"40px"}},[t._v("Для того, чтобы сбросить поиск, нужно сделать двойной клик по форме поиска (инпуту)")])])])}]},Lt=n("VU/8")(null,Gt,!1,null,null,null).exports;c.default.use(D.a);var Vt=new D.a({mode:"history",routes:[{path:"/faq",component:Lt},{path:"/",name:"index-page",component:ut,meta:{title:"Главная страница"}},{path:"/project/:id",name:"project-page",component:Pt},{path:"/register",name:"register-page",component:Ot,meta:{title:"Страница регистрации"}},{path:"/authorization",name:"authorization-page",component:Dt,meta:{title:"Страница авторизации"}}]}),Bt={SET_USER:function(t,e){return(0,t.commit)("SET_USER",e)},LOGOUT:function(t){(0,t.commit)("LOGOUT"),P("jwt","user")},SET_PROJECTS:function(t,e){return(0,t.commit)("SET_PROJECTS",e)},ADD_PROJECT:function(t,e){return(0,t.commit)("ADD_PROJECT",e)},SET_TASKS:function(t,e){return(0,t.commit)("SET_TASKS",e)},ADD_TASK:function(t,e){return(0,t.commit)("ADD_TASK",e)}},Kt=n("Gu7T"),zt=n.n(Kt),Jt={SET_USER:function(t,e){return t.user=e},LOGOUT:function(t){return t.user={}},SET_PROJECTS:function(t,e){return t.projects=e},ADD_PROJECT:function(t,e){8!==t.projects.length?t.projects.push(e):t.projects=[e].concat(zt()(t.projects.slice(0,7)))},SET_TASKS:function(t,e){return t.tasks=e},ADD_TASK:function(t,e){12!==t.tasks.length?t.tasks.push(e):t.tasks=[e].concat(zt()(t.tasks.slice(0,11)))}},Mt={user:function(t){return t.user},userIsGuest:function(t){return void 0===t.user||0===o()(t.user).length},projects:function(t){return t.projects},tasks:function(t){return t.tasks}};c.default.use(f.a);var Ht=new f.a.Store({state:{user:{},projects:[],tasks:[]},mutations:Jt,actions:Bt,getters:Mt}),Xt=function(t){return 14>=t.length?t:t.substring(0,12)+"..."},Yt=function(t){return 12>=t.length?t:t.substring(0,10)+"..."};c.default.use(mt.a),o()(a).forEach(function(t){return c.default.filter(t,a[t])}),Vt.beforeEach(function(t,e,n){var a=t.matched.slice().reverse().find(function(t){return t.meta&&t.meta.title}),s=t.matched.slice().reverse().find(function(t){return t.meta&&t.meta.metaTags});if(a&&(document.title=a.meta.title),r()(document.querySelectorAll("[data-vue-router-controlled]")).map(function(t){return t.parentNode.removeChild(t)}),!s)return n();s.meta.metaTags.map(function(t){var e=document.createElement("meta");return o()(t).forEach(function(n){return e.setAttribute(n,t[n])}),e.setAttribute("data-vue-router-controlled",""),e}).forEach(function(t){return document.head.appendChild(t)}),n()}),c.default.config.productionTip=!1,new c.default({el:"#app",store:Ht,router:Vt,components:{App:I},template:"<App/>"})},NS7V:function(t,e){},TFPP:function(t,e){},"b8+y":function(t,e){},b9Xj:function(t,e){},gkYo:function(t,e){},qZHo:function(t,e){},"qiH/":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.4fc805a17934bb1e4778.js.map